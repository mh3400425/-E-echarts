# E-echarts  
>易语言模块（开源）

### 模块简介
本模块封装百度echarts.js（开源），相对于chart.js好处具有更全面api文档支持，更多的图形样式及配置支持，例如：**散点图、折线图、柱状图、饼图、地图、雷达图、K线图、箱线图、热力图、关系图、矩形树图、平行坐标、桑基图、漏斗图、仪表盘**等等。  

官方图形样例展示：http://echarts.baidu.com/examples.html  
官方API文档：http://echarts.baidu.com/option.html  



### 模块特点：

>下边除了第一行，后边的都是echarts.js的特点，本模块仅是最大限度还原保留了它的特点。


* 简单三行代码即可快速生成图表
* echarts.js源码已更新至最新版，且内置到模块中，所以支持离线使用
* 使用超文本浏览框快速展示（也支持EXUI或者第三方WKE浏览控件/模块）
* 支持使用js动态加载数据（实时动态加载显示，类似CPU使用率曲线功能）
* 支持单页面显示多个图表互不干扰，分别js动态加载数据
* 模块支持引入外部js或者css文件
* 模块并不封装直接生成除折线图外其他图形的功能，一切需使用模块命令（增改json）或自己写配置数据json来生成图形

### 模块使用演示1（不使用js）
>     .版本 2
> 
>     配置内容 ＝ 折线图_创建标准配置 (“我是主标题”, “我是副标题”, X轴内容, Y轴内容)
>     页面代码 ＝ 页面代码_生成 (#CSS_隐藏滚动条, 折线图_创建 (, , “test”, “aabbcc”, 配置内容, 真))  
>     
>     写到文件 (取运行目录 () ＋ “\demo.html”, 编码转换_Ansi到Utf8 (页面代码))
>     浏览框EX1.地址 ＝ 取运行目录 () ＋ “\demo.html”  
>
> 注：  
> 变量‘X轴内容’为 **文本数组**  
> 变量‘y轴内容’的结构如下  

>     数据类型名     公开    备注 
>     Y轴数据类型   
>     成员名        类型     传址     数组    备注 
>     名称         文本型
>     类型         文本型                    可选：line/bar（折线图/柱形图） 
>     是否平滑曲线  逻辑型
>     数据组       文本型            √



### 模块使用演示2(异步js加载数据)

* 三行代码生成空白折线图（数据用js后期动态加载）

> 
> 
>     .版本 2
>     .支持库 exui
>     
>     页面代码 ＝ 页面代码_生成 (#CSS_隐藏滚动条, 折线图_创建 (, , “test”, “aabbcc”, 配置内容, 真))  
>     
>     写到文件 (取运行目录 () ＋ “\demo.html”, 编码转换_Ansi到Utf8 (页面代码))
>     浏览框EX1.地址 ＝ 取运行目录 () ＋ “\demo.html”

> 注意上边的“折线图创建”的第4个参数：“aabbcc”为折线图对象的名称，后续使用js写入数据时要用到这个名称  
> 单页面多个折线图时此名称必须不能重名  
> 上边“折线图_创建”的最后一个参数置“真”时，将显示loading画面等待数据读入

* js加载数据的方法：  
1).创建option（使用随机数做演示）


>     .版本 2    
>     
>     .计次循环首 (3, 计数器1)
>     置随机数种子 (取启动时间 ())
>     清除数组 (临时_数组)
>     临时文本 ＝ “”
>     .计次循环首 (10, )
>     加入成员 (临时_数组, 取随机数 (100, 300))
>     .计次循环尾 ()
>     临时文本 ＝ 增改json (临时文本, “data”, , , , 创建json数组 (, , 临时_数组), , )  ' 曲线的数据
>     临时文本 ＝ 增改json (临时文本, “name”, “我是名称” ＋ 到文本 (计数器1), , , , , )  ' 名称
>     临时文本 ＝ 增改json (临时文本, “smooth”, , 真, , , , )  ' 是否平滑曲线
>     临时文本 ＝ 增改json (临时文本, “type”, “line”, , , , , )  ' 类型：bar/line，柱图或曲线图，可混用
>     临时文本 ＝ 增改json (临时文本, “areaStyle.normal”, , , , , “{}”, )  ' 开启曲线填充效果
>     加入成员 (临时文本数组, 临时文本)
>     .计次循环尾 ()
>     ' 注：三次循环生成三组数据（三条折线）存放于临时文本数组中 
>    
>     option ＝ 增改json (option, “series”, , , , 创建json数组 (临时文本数组, , ), , )  ' 将生成的数据放入配置json中，具体请参考百度API中文文档。
>     




2).使用js将上边生成的option写入到echarts图表中并立即显示出来（可以随时使用setOption写入数据，echarts会自动更新并调整图表适配）

> 
>     .版本 2
>     .支持库 exui
> 
>     浏览框EX1.执行js脚本 (“aabbcc.hideLoading();”, )  ' 关闭loading画面。
> 
>     浏览框EX1.执行js脚本 (“aabbcc.setOption(” ＋ option ＋ “)”, )  ' 加载数据。

### 文件列表
> 演示文件中因为需要演示js异步加载功能，所以使用了exui的wke浏览框控件，实际使用如果不需要js也可以使用易语言内置的超文本浏览框。

- **目录code** ----   为模块文本源码  
- **目录js**  ----  为引用的echart.js文件（只为展示，使用时不需要，js文件已内置到模块中）  
- **Echart_DEMO.e**  ----  为演示程序（演示程序使用了EXUI支持库的wke浏览框控件，需要单独下载）  
- **Echarts模块v---.ec**  ----  为已编译的成品模块文件  
- **READMO.md**  ----  说明文件
- **LICENSE**  ----  开源协议
- **echart.e**  ----  模块易语言源码文件
- **wke.dll**  ----  demo演示文件使用了EXUI支持库的wke浏览框控件
- **ex_ui2016.9.15.zip**  ----  EXUI支持库（demo演示文件中使用）